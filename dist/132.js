(self.webpackChunkweoreum_ts=self.webpackChunkweoreum_ts||[]).push([[132],{73688:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(35366),a=(0,r.Z)("div",{target:"e16hid8x1"})({name:"10w7pu7",styles:"position:fixed;text-align:center;left:0;bottom:0;top:0;right:0;z-index:1022;&>div{margin-top:200px;display:inline-block;width:440px;background:white;--saf-0:rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);box-shadow:0 0 0 1px var(--saf-0),0 4px 12px 0 rgba(0, 0, 0, 0.12);background-color:rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);border-radius:6px;user-select:none;max-width:440px;padding:30px 40px 0;z-index:1012;position:relative;}"}),o=(0,r.Z)("button",{target:"e16hid8x0"})({name:"19gmbxq",styles:"position:absolute;right:10px;top:6px;background:transparent;border:none;font-size:30px;cursor:pointer"}),l=n(67294),i=function(e){var t=e.show,n=e.children,r=e.onCloseModal,i=(0,l.useCallback)((function(e){e.stopPropagation()}),[]);return t?l.createElement(a,{onClick:r},l.createElement("div",{onClick:i},l.createElement(o,{onClick:r},"×"),n)):null}},91041:function(e,t,n){"use strict";var r=n(73688),a=n(38678),o=n(21670),l=n(83564),i=n(9669),c=n.n(i),s=n(67294),u=n(5977),p=n(72132),d=n(8100);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n,i=e.show,f=e.onCloseModal,h=e.setShowInviteChannelModal,b=(0,u.UO)(),y=b.workspace,g=b.channel,v=(t=(0,a.Z)(""),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=v[0],x=v[1],E=v[2],k=(0,d.ZP)("/api/users",l.Z).data,Z=(0,d.ZP)(k?"/api/workspaces/".concat(y,"/channels/").concat(g,"/members"):null,l.Z).mutate,S=(0,s.useCallback)((function(e){e.preventDefault(),w&&w.trim()&&c().post("/api/workspaces/".concat(y,"/channels/").concat(g,"/members"),{email:w}).then((function(){Z(),h(!1),E("")})).catch((function(e){var t;console.dir(e),p.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[g,w,Z,E,h,y]);return s.createElement(r.Z,{show:i,onCloseModal:f},s.createElement("form",{onSubmit:S},s.createElement(o.__,{id:"member-label"},s.createElement("span",null,"채널 멤버 초대"),s.createElement(o.II,{id:"member",value:w,onChange:x})),s.createElement(o.zx,{type:"submit"},"초대하기")))}},32951:function(e,t,n){"use strict";var r=n(86809),a=n.n(r),o=n(67294),l={};t.Z=function(e){var t=(0,o.useCallback)((function(){e&&(l[e].disconnect(),delete l[e])}),[e]);return e?(l[e]||(l[e]=a()("".concat("http://localhost:3095","/ws-").concat(e),{transports:["websocket"]}),console.info("create socket",e,l[e])),[l[e],t]):[void 0,t]}},28647:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var r=n(83564),a=n(9669),o=n.n(a),l=n(67294),i=n(5977),c=n(8100),s=n(35366);(0,s.Z)("div",{target:"e65b0sy13"})({name:"tjo4qw",styles:"float:right"});var u=(0,s.Z)("header",{target:"e65b0sy12"})({name:"11e2pan",styles:"height:55px;background:#fff;color:#f5f6fa;box-shadow:0 1px 0 0 rgba(255, 255, 255, 0.1);padding:5px;text-align:center"}),p=((0,s.Z)("img",{target:"e65b0sy11"})({name:"jh3bjl",styles:"width:28px;height:28px;position:absolute;top:5px;right:16px;cursor:pointer"}),(0,s.Z)("div",{target:"e65b0sy10"})({name:"47px7v",styles:"display:flex;padding:20px;& img{display:flex;}&>div{display:flex;flex-direction:column;margin-left:10px;}& #profile-name{font-weight:bold;display:inline-flex;}& #profile-active{font-size:13px;display:inline-flex;}"}),(0,s.Z)("button",{target:"e65b0sy9"})({name:"bl1q1k",styles:"border:none;width:100%;border-top:1px solid rgb(29, 28, 29);background:transparent;display:block;height:33px;padding:5px 20px 5px;outline:none;cursor:pointer"}),(0,s.Z)("div",{target:"e65b0sy8"})({name:"36bnqj",styles:"display:flex;flex:1"})),d=(0,s.Z)("div",{target:"e65b0sy7"})({name:"1yhd2tj",styles:"width:65px;display:inline-flex;flex-direction:column;align-items:center;background:#273c75;border-top:1px solid rgb(1, 1, 1);border-right:1px solid rgb(1, 1, 1);vertical-align:top;text-align:center;padding:15px 0 0"}),m=(0,s.Z)("nav",{target:"e65b0sy6"})({name:"7wg6ta",styles:"font-size:20px;width:260px;display:inline-flex;flex-direction:column;background:#fff;color:#111;vertical-align:top;& a{padding-left:36px;color:inherit;text-decoration:none;height:28px;line-height:28px;display:flex;align-items:center;color:rgba(0, 0, 0, 0.5);}& .bold{color:white;font-weight:bold;}& h2{height:36px;line-height:36px;margin:0;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;font-size:20px;margin-top:20px;}"}),f=(0,s.Z)("button",{target:"e65b0sy5"})({name:"1oq7hek",styles:"height:64px;line-height:64px;border:none;width:100%;text-align:left;border-top:1px solid rgb(1, 1, 1, 0.2);border-right:1px solid rgb(1, 1, 1, 0.2);border-bottom:1px solid rgb(1, 1, 1, 0.2);font-weight:900;font-size:24px;background:transparent;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding:0;padding-left:16px;margin:0;color:#111;cursor:pointer"}),h=(0,s.Z)("div",{target:"e65b0sy4"})({name:"lpx5ol",styles:"height:calc(100vh - 130px);overflow-y:auto"}),b=(0,s.Z)("div",{target:"e65b0sy3"})({name:"192o1ir",styles:"padding:10px 0 0;& h2{padding-left:20px;}&>button{width:100%;height:28px;padding:4px;border:none;background:transparent;border-top:1px solid rgb(28, 29, 28);cursor:pointer;&:last-of-type{border-bottom:1px solid rgb(28, 29, 28);}}"}),y=(0,s.Z)("div",{target:"e65b0sy2"})({name:"82a6rk",styles:"flex:1"}),g=(0,s.Z)("button",{target:"e65b0sy1"})({name:"9tlmej",styles:"color:white;font-size:24px;display:inline-block;width:40px;height:40px;background:transparent;border:none;cursor:pointer"}),v=(0,s.Z)("button",{target:"e65b0sy0"})({name:"wsqixl",styles:"display:inline-block;width:40px;height:40px;border-radius:10px;background:white;border:3px solid #3f0e40;margin-bottom:15px;font-size:18px;font-weight:700;color:black;cursor:pointer"}),w=n(40684),x=n(83599),E=n(73727),k=n(73688),Z=n(21670),S=n(38678),C=n(72132);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t,n,a=e.show,s=e.onCloseModal,u=e.setShowCreateChannelModal,p=(t=(0,S.Z)(""),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=p[0],m=p[1],f=p[2],h=(0,i.UO)().workspace,b=(0,c.ZP)("/api/users",r.Z).data,y=(0,c.ZP)(b?"/api/workspaces/".concat(h,"/channels"):null,r.Z).mutate,g=(0,l.useCallback)((function(e){e.preventDefault(),d&&d.trim()&&o().post("/api/workspaces/".concat(h,"/channels"),{name:d}).then((function(){u(!1),y(),f("")})).catch((function(e){var t;console.dir(e),C.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[d]);return l.createElement(k.Z,{show:a,onCloseModal:s},l.createElement("form",{onSubmit:g},l.createElement(Z.__,{id:"channel-label"},l.createElement("span",null,"채널"),l.createElement(Z.II,{id:"channel",value:d,onChange:m})),l.createElement(Z.zx,{type:"submit"},"생성하기")))};function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=function(e){var t,n,a=e.show,s=e.onCloseModal,u=e.setShowInviteWorkspaceModal,p=(0,i.UO)().workspace,d=(t=(0,S.Z)(""),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],f=d[1],h=d[2],b=(0,c.ZP)("/api/users",r.Z).data,y=(0,c.ZP)(b?"/api/workspaces/".concat(p,"/members"):null,r.Z).mutate,g=(0,l.useCallback)((function(e){e.preventDefault(),m&&m.trim()&&o().post("/api/workspaces/".concat(p,"/members"),{email:m}).then((function(){y(),u(!1),h("")})).catch((function(e){var t;console.dir(e),C.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[m,p,y,u,h]);return l.createElement(k.Z,{show:a,onCloseModal:s},l.createElement("form",{onSubmit:g},l.createElement(Z.__,{id:"member-label"},l.createElement("span",null,"이메일"),l.createElement(Z.II,{id:"member",type:"email",value:m,onChange:f})),l.createElement(Z.zx,{type:"submit"},"초대하기")))},O=n(91041),M=(0,s.Z)("button",{target:"e1d0j5gg0"})("background:transparent;border:none;width:26px;height:26px;display:inline-flex;justify-content:center;align-items:center;color:white;margin-left:10px;cursor:pointer;",(function(e){return e.collapse&&"\n    & i {\n      transform: none;\n    }\n  "}),";"),P=function(e){var t=e.channel,n=(0,i.UO)().workspace,a=(0,i.TH)(),o=(0,c.ZP)("/api/users",r.Z,{dedupingInterval:2e3}).data,s=localStorage.getItem("".concat(n,"-").concat(t.name))||0,u=(0,c.ZP)(o?"/api/workspaces/".concat(n,"/channels/").concat(t.name,"/unreads?after=").concat(s):null,r.Z),p=u.data,d=u.mutate;return(0,l.useEffect)((function(){a.pathname==="/workspace/".concat(n,"/channel/").concat(t.name)&&d(0)}),[d,a.pathname,n,t]),l.createElement(E.OL,{key:t.name,activeClassName:"selected",to:"/workspace/".concat(n,"/channel/").concat(t.name)},l.createElement("span",{className:void 0!==p&&p>0?"bold":void 0},"# ",t.name),void 0!==p&&p>0&&l.createElement("span",{className:"count"},p))};function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(){var e,t,n=(0,i.UO)().workspace,a=(e=(0,l.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],s=a[1],u=(0,c.ZP)("/api/users",r.Z,{dedupingInterval:2e3}).data,p=(0,c.ZP)(u?"/api/workspaces/".concat(n,"/channels"):null,r.Z).data,d=(0,l.useCallback)((function(){s((function(e){return!e}))}),[]);return l.createElement(l.Fragment,null,l.createElement("h2",null,l.createElement(M,{collapse:o,onClick:d},l.createElement("i",{className:"c-icon p-channel_sidebar__section_heading_expand p-channel_sidebar__section_heading_expand--show_more_feature c-icon--caret-right c-icon--inherit c-icon--inline","data-qa":"channel-section-collapse","aria-hidden":"true"})),l.createElement("span",null,"채널")),l.createElement("div",null,!o&&(null==p?void 0:p.map((function(e){return l.createElement(P,{key:e.id,channel:e})})))))},q=function(e){var t=e.member,n=e.isOnline,a=(0,i.UO)().workspace,o=(0,i.TH)(),s=(0,c.ZP)("/api/users",r.Z,{dedupingInterval:2e3}).data,u=localStorage.getItem("".concat(a,"-").concat(t.id))||0,p=(0,c.ZP)(s?"/api/workspaces/".concat(a,"/dms/").concat(t.id,"/unreads?after=").concat(u):null,r.Z),d=(p.data,p.mutate);return(0,l.useEffect)((function(){o.pathname==="/workspace/".concat(a,"/dm/").concat(t.id)&&d(0)}),[d,o.pathname,a,t]),l.createElement(E.OL,{key:t.id,activeClassName:"selected",to:"/workspace/".concat(a,"/dm/").concat(t.id)},l.createElement("i",{className:"c-icon p-channel_sidebar__presence_icon p-channel_sidebar__presence_icon--dim_enabled c-presence ".concat(n?"c-presence--active c-icon--presence-online":"c-icon--presence-offline"),"aria-hidden":"true","data-qa":"presence_indicator","data-qa-presence-self":"false","data-qa-presence-active":"false","data-qa-presence-dnd":"false"}),l.createElement("span",null,t.nickname),t.id===(null==s?void 0:s.id)&&l.createElement("span",null," (나)"))},T=n(32951);function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(){var e=(0,i.UO)().workspace,t=(0,c.ZP)("/api/users",r.Z,{dedupingInterval:2e3}).data,n=(0,c.ZP)(t?"/api/workspaces/".concat(e,"/members"):null,r.Z).data,a=W((0,T.Z)(e),1)[0],o=W((0,l.useState)(!1),2),s=o[0],u=o[1],p=W((0,l.useState)([]),2),d=p[0],m=p[1],f=(0,l.useCallback)((function(){u((function(e){return!e}))}),[]);return(0,l.useEffect)((function(){console.log("DMList: workspace 바꼈다",e),m([])}),[e]),(0,l.useEffect)((function(){return null==a||a.on("onlineList",(function(e){m(e)})),console.log("socket on dm",null==a?void 0:a.hasListeners("dm"),a),function(){console.log("socket off dm",null==a?void 0:a.hasListeners("dm")),null==a||a.off("onlineList")}}),[a]),l.createElement(l.Fragment,null,l.createElement("h2",null,l.createElement(M,{collapse:s,onClick:f},l.createElement("i",{className:"c-icon p-channel_sidebar__section_heading_expand p-channel_sidebar__section_heading_expand--show_more_feature c-icon--caret-right c-icon--inherit c-icon--inline","data-qa":"channel-section-collapse","aria-hidden":"true"})),l.createElement("span",null,"Direct Messages")),l.createElement("div",null,!s&&(null==n?void 0:n.map((function(e){var t=d.includes(e.id);return l.createElement(q,{key:e.id,member:e,isOnline:t})})))))};function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=function(){var e,t,n=(0,i.UO)().workspace,a=(e=(0,l.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0];return a[1],(0,c.ZP)("/api/users",r.Z,{dedupingInterval:2e3}).data,l.createElement(l.Fragment,null,l.createElement("h2",null,l.createElement(M,{collapse:o},"◼"),l.createElement("span",null,"Trello")),l.createElement("div",null,l.createElement(E.rU,{to:"/workspace/".concat(n,"/trello")},"# 일반")))};function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=function(){var e,t,n=(0,i.UO)().workspace,a=(e=(0,l.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0];return a[1],(0,c.ZP)("/api/users",r.Z,{dedupingInterval:2e3}).data,l.createElement(l.Fragment,null,l.createElement("h2",null,l.createElement(M,{collapse:o},"◼"),l.createElement("span",null,"Calendar")),l.createElement("div",null,l.createElement(E.rU,{to:"/workspace/".concat(n,"/calendar")},"# 일반")))};function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=(0,w.ZP)((function(){return Promise.all([n.e(857),n.e(155),n.e(914),n.e(545)]).then(n.bind(n,34545))})),K=(0,w.ZP)((function(){return Promise.all([n.e(857),n.e(914),n.e(251)]).then(n.bind(n,54251))})),Q=(0,w.ZP)((function(){return Promise.all([n.e(995),n.e(328)]).then(n.bind(n,70328))})),R=(0,w.ZP)((function(){return Promise.all([n.e(34),n.e(371)]).then(n.bind(n,14119))})),V=function(){var e,t,n=B((0,l.useState)(!1),2),a=(n[0],n[1],B((0,l.useState)(!1),2)),s=a[0],w=a[1],A=B((0,l.useState)(!1),2),I=A[0],M=A[1],P=B((0,l.useState)(!1),2),U=P[0],q=P[1],W=B((0,l.useState)(!1),2),$=W[0],N=W[1],F=B((0,l.useState)(!1),2),G=F[0],V=F[1],X=B((0,S.Z)(""),3),Y=X[0],ee=X[1],te=X[2],ne=B((0,S.Z)(""),3),re=ne[0],ae=ne[1],oe=ne[2],le=(0,i.UO)().workspace,ie=(0,c.ZP)("/api/users",r.Z),ce=ie.data,se=(ie.error,ie.mutate),ue=(0,c.ZP)(ce?"/api/workspaces/".concat(le,"/channels"):null,r.Z).data,pe=B((0,T.Z)(le),2),de=pe[0],me=pe[1];(0,l.useEffect)((function(){ue&&ce&&de&&de.emit("login",{id:ce.id,channels:ue.map((function(e){return e.id}))})}),[de,ue,ce]),(0,l.useEffect)((function(){return function(){me()}}),[le]);var fe=(0,l.useCallback)((function(){o().post("/api/users/logout",null,{withCredentials:!0}).then((function(){se()}))}),[]),he=(0,l.useCallback)((function(){w(!0)}),[]),be=(0,l.useCallback)((function(e){e.preventDefault(),Y&&Y.trim()&&re&&re.trim()&&o().post("/api/workspaces",{workspace:Y,url:re}).then((function(){se(),w(!1),te(""),oe("")})).catch((function(e){var t;console.log(e),C.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[Y,re]),ye=(0,l.useCallback)((function(){w(!1),V(!1),q(!1),M(!1)}),[]),ge=(0,l.useCallback)((function(){N((function(e){return!e}))}),[]),ve=(0,l.useCallback)((function(){V(!0)}),[]),we=(0,l.useCallback)((function(){M(!0)}),[]);return ce?l.createElement("div",null,l.createElement(u,null),l.createElement(p,null,l.createElement(d,null,l.createElement(E.rU,{to:"/",style:{fontSize:"30px"}},l.createElement(v,null,"🏠")),ce.Workspaces.map((function(e){return l.createElement(E.rU,{key:e.id,to:"/workspace/".concat(e.url,"/channel/일반")},l.createElement(v,null,e.name.slice(0,1).toUpperCase()))})),l.createElement(g,{onClick:he},"+")),l.createElement(m,null,l.createElement(f,{onClick:ge},null==ce||null===(e=ce.Workspaces.find((function(e){return e.url===le})))||void 0===e?void 0:e.name),l.createElement(h,null,l.createElement(x.Z,{show:$,onCloseModal:ge,style:{top:95,left:80}},l.createElement(b,null,l.createElement("h2",null,null==ce||null===(t=ce.Workspaces.find((function(e){return e.url===le})))||void 0===t?void 0:t.name),l.createElement("button",{onClick:we},"워크스페이스에 사용자 초대"),l.createElement("button",{onClick:ve},"채널 만들기"),l.createElement("button",{onClick:fe},"로그아웃"))),l.createElement(z,null),l.createElement(L,null),l.createElement(D,null),l.createElement(H,null))),l.createElement(y,null,l.createElement(i.rs,null,l.createElement(i.AW,{path:"/workspace/:workspace/channel/:channel",component:J}),l.createElement(i.AW,{path:"/workspace/:workspace/dm/:id",component:K}),l.createElement(i.AW,{path:"/workspace/:workspace/trello",component:Q}),l.createElement(i.AW,{path:"/workspace/:workspace/calendar",component:R})))),l.createElement(k.Z,{show:s,onCloseModal:ye},l.createElement("form",{onSubmit:be},l.createElement(Z.__,{id:"workspace-label"},l.createElement("span",null,"워크스페이스 이름"),l.createElement(Z.II,{id:"workspace",value:Y,onChange:ee})),l.createElement(Z.__,{id:"workspace-url-label"},l.createElement("span",null,"워크스페이스 url"),l.createElement(Z.II,{id:"workspace",value:re,onChange:ae})),l.createElement(Z.zx,{type:"submit"},"생성하기"))),l.createElement(_,{show:G,onCloseModal:ye,setShowCreateChannelModal:V}),l.createElement(j,{show:I,onCloseModal:ye,setShowInviteWorkspaceModal:M}),l.createElement(O.Z,{show:U,onCloseModal:ye,setShowInviteChannelModal:q})):l.createElement(i.l_,{to:"/login"})}},77020:function(){}}]);